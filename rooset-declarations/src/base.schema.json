{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type":"object",
  "definitions": {
    "area": {
      "type": "object",
      "properties": {
        "areaId": { "$ref": "#/definitions/uuid" },
        "name": { "$ref": "#/definitions/string" },
        "description": { "$ref": "#/definitions/string" },
        "externalReference": { "$ref": "#/definitions/string" }
      },
      "required": ["areaId", "name", "description", "externalReference"]
    },
    "areaArray": {
      "type": "array",
      "items": { "$ref": "#/definitions/area" }
    },
    "bool": {
      "type": "boolean"
    },
    "date": {
      "type": "integer",
      "minimum": 0,
      "maximum": 4294967295
    },
    "duration": {
      "type": "integer",
      "description": "Length of duration in seconds"
    },
    "initiativeContentType": {
      "type": "string",
      "enum": [ "STATEMENT", "GIT_PATCH" ]
    },
    "keyNamePair": {
      "type": "object",
      "description": "A uuid - name pair for storing a ref and a human friendly name",
      "properties": {
        "key": { "$ref": "#/definitions/uuid" },
        "name": { "$ref": "#/defintions/string" }
      },
      "required": ["key", "name"]
    },
    "keyNamePairArray": {
      "type": "array",
      "items": { "$ref": "#/definitions/idNamePair" }
    },
    "initiative": {
      "type": "object",
      "properties": {
        "id": { "$ref":  "#/definitions/uuid" },
        "initiativeId": { "$ref":  "#/definitions/uuid" },
        "requesterId" : { "$ref":  "#/definitions/uuid" },
        "name": { "$ref":  "#/definitions/string" },
        "content": { "$ref": "#/definitions/string" },
        "created": { "$ref": "#/definitions/date" }
      },
      "required": [
        "id", "initiativeId", "requesterId", "name", "externalReference",
        "content", "textSearchData", "created"
      ]
    },
    "initiativeArray": {
      "type": "array",
      "items": { "$ref": "#/definitions/initiative" }
    },
    "jsonObject": {
      "type": "object"
    },
    "member": {
      "type": "object",
      "properties": {
        "id": { "$ref":  "#/definitions/uuid" },
        "memberId": { "$ref": "#/definitions/uuid" },
        "pollingRight": { "$ref": "#/definitions/bool" },
        "votingRight": { "$ref": "#/definitions/bool" },
        "initiativeRight": { "$ref": "#/definitions/bool" },
        "managementRight": { "$ref": "#/definitions/bool" },
        "weight": { "$ref": "#/definitions/uint" }
      },
      "required": [
        "id", "memberId", "pollingRight", "votingRight",
        "initiativeRight", "managementRight", "weight"
      ]
    },
    "memberArray": {
      "type": "array",
      "items": { "$ref": "#/definitions/member" }
    },
    "policy": {
      "type": "object",
      "properties": {
        "policyId": { "$ref": "#/definitions/uuid" },
        "name": { "$ref": "#/defintions/string" },
        "description": { "$ref": "#/definitions/string" },
        "discusionTime": { "$ref": "#/definitions/duration" },
        "verificationTime": { "$ref": "#/definitions/duration" },
        "votingTime": { "$ref": "#/definitions/duration" },
        "issueQuorumNum": { "$ref": "#/defintions/uint" },
        "issueQuorumDen": { "$ref": "#/definitions/unit" }
      }
    },
    "uuid": {
      "type":"string",
      "pattern":"[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}"
    },
    "uuidNullable": {
      "oneOf": [
        { "$ref": "#/definitions/uuid" },
        { "type": "null" }
      ]
    },
    "uuidArray": {
      "type": "array",
      "items": { "$ref": "#/definitions/uuid" }
    },
    "schulzeBallot": {
      "type": "object",
      "required": [ "approve", "abstain", "disapprove" ],
      "properties": {
        "approve": {
          "type": "array",
          "items": { "$ref": "#definitions/uuidArray" }
        },
        "abstain": { "$ref": "#definitions/uuidArray" },
        "disapprove": {
          "type": "array",
          "items": { "$ref": "#definitions/uuidArray" }
        }
      }
    },
    "string": {
      "type": "string"
    },
    "email": {
      "type": "string",
      "format": "email"
    },
    "exceptionCode": {
      "type": "string",
      "enum": [
        "CONFLICT_EXCEPTION",
        "GENERAL_PROJECT_EXCEPTION",
        "ITEM_NOT_FOUND_EXCEPTION",
        "UNAUTHORIZED_EXCEPTION",
        "UNPRIVILEGED_EXCEPTION",
        "INVALID_INPUT_EXCEPTION",
        "ISSUE_STATE_EXCEPTION"
      ]
    },
    "defeatStrength": {
      "type": "string",
      "enum": [
        "TUPLE",
        "SIMPLE"
      ]
    },
    "issueState": {
      "type": "string",
      "enum": [
        "ADMISSION",
        "DISCUSSION",
        "VERIFICATION",
        "VOTING",
        "CANCELED_BY_ADMIN",
        "CANCELED_REVOKED_BEFORE_ACCEPTED",
        "CANCELED_ISSUE_NOT_ACCEPTED",
        "CANCELED_AFTER_REVOCATION_DURING_DISCUSSION",
        "CANCELED_AFTER_REVOCATION_DURING_VERIFICATION",
        "CANCELED_NO_INITIATIVE_ADMITTED",
        "FINISHED_TABULATING_RESULTS",
        "FINISHED_WITHOUT_WINNER",
        "FINISHED_WITH_WINNER"
      ]
    },
    "int": {
      "type": "integer",
      "minimum": -32767,
      "maximum": 32767
    },
    "uint": {
      "type": "integer",
      "minimum": 0,
      "maximum": 65535
    },
    "ullong": {
      "type": "integer",
      "minimum": 0,
      "maximum": 18446744073709551615
    },
    "tieBreaking": {
      "type": "string",
      "enum": [
        "SIMPLE",
        "VARIANT1",
        "VARIANT2"
      ]
    },
    "exceptionType": {
      "type": "string",
      "enum": [
        "COMMAND_EVALUATION_EXCEPTION",
        "QUERY_EXCEPTION",
        "SYSTEM_EXCEPTION"
      ]
    }
  }
}
